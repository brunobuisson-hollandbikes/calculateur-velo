<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparateur Holland Bikes vs GreenLeaze</title>
    <style>
        :root { --hb-blue: #003366; --gl-green: #0a4d33; }
        body { font-family: 'Segoe UI', Arial, sans-serif; background-color: #f4f7f6; margin: 0; padding: 20px; color: #333; }
        .container { max-width: 1100px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .header-logos { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; align-items: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #eee; }
        .logo-box { text-align: center; }
        .logo-box img { max-height: 80px; max-width: 90%; object-fit: contain; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; }
        .card { padding: 25px; border-radius: 12px; border: 1px solid #e0e0e0; background: #fff; height: fit-content; }
        .achat-card { border-top: 6px solid var(--hb-blue); }
        .lld-card { border-top: 6px solid var(--gl-green); background-color: #f9fdfb; }
        h2 { margin-top: 0; font-size: 1.2rem; color: #444; margin-bottom: 15px; text-transform: uppercase; }
        label { display: block; margin: 12px 0 5px; font-weight: 600; font-size: 0.9rem; }
        input[type="number"], select { width: 100%; padding: 12px; margin-bottom: 10px; border: 1px solid #ccc; border-radius: 6px; box-sizing: border-box; font-size: 1rem; }
        
        .checkbox-group { background: #fff; border: 1px solid #ddd; padding: 10px; border-radius: 6px; margin-bottom: 15px; }
        .checkbox-item { display: flex; align-items: center; margin-bottom: 8px; cursor: pointer; font-size: 0.9rem; }
        .checkbox-item input { margin-right: 10px; width: 18px; height: 18px; cursor: pointer; }
        
        .result-box { margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #ccc; font-size: 0.95rem; }
        .highlight-eco { color: var(--gl-green); font-weight: bold; font-size: 1.2rem; }
        .annual-cost { color: #555; font-style: italic; margin-top: 5px; display: block; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 15px; background: white; }
        th, td { text-align: left; padding: 12px; border-bottom: 1px solid #eee; font-size: 0.9rem; }
        
        .resale-warning { margin-top: 15px; padding: 10px; background: #fff3cd; border: 1px solid #ffeeba; border-radius: 6px; font-size: 0.8rem; color: #856404; }
        .benefits-list { margin-top: 20px; padding: 15px; background: #eef9f3; border-radius: 10px; border: 1px solid #d4edda; }
        .benefit-item { display: flex; align-items: flex-start; margin-bottom: 10px; font-size: 0.85rem; color: #155724; }
        .benefit-item span { margin-right: 8px; font-size: 1.1rem; }

        .banner-eco { margin-top: 20px; padding: 20px; background-color: #eef9f3; border: 2px dashed var(--gl-green); border-radius: 10px; text-align: center; }
        @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } .header-logos { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
<div class="container">
    <div class="header-logos">
        <div class="logo-box"><img src="Logo HB_v3_Bleu.png" alt="Holland Bikes"></div>
        <div class="logo-box"><img src="GreenLeaze.jpg" alt="GreenLeaze"></div>
    </div>
    
    <div class="grid">
        <div class="card achat-card">
            <h2>Achat Comptant</h2>
            <label>Prix du V√©lo (‚Ç¨ TTC)</label>
            <input type="number" id="prixVelo" value="2699" oninput="calculer()">
            <label>Accessoires (‚Ç¨ TTC)</label>
            <input type="number" id="prixAcc" value="150" oninput="calculer()">
            <label>Entretien annuel</label>
            <select id="typeVelo" onchange="calculer()">
                <option value="60">Musculaire (60‚Ç¨/an)</option>
                <option value="75" selected>√âlectrique (75‚Ç¨/an)</option>
                <option value="95">Cargo (95‚Ç¨/an)</option>
            </select>
            <label>Dur√©e de d√©tention</label>
            <select id="duree" onchange="calculer()">
                <option value="12">12 mois (1 an)</option>
                <option value="24" selected>24 mois (2 ans)</option>
                <option value="36">36 mois (3 ans)</option>
            </select>

            <div class="result-box" id="resAchat"></div>

            <div id="resaleBox" style="margin-top:15px; font-size:0.9rem;">
                </div>
            <div class="resale-warning">
                ‚ö†Ô∏è <strong>Attention :</strong> Revendre un v√©lo √©lectrique d'occasion est complexe (usure batterie, √©lectronique). Les reprises professionnelles sont souvent bien inf√©rieures aux prix particuliers.
            </div>
        </div>

        <div class="card lld-card">
            <h2>Solution GreenLeaze</h2>
            <label>Apport comptant (‚Ç¨ TTC)</label>
            <input type="number" id="apportComptant" value="0" oninput="calculer()">

            <label>Garantie & Service (Cochez le type)</label>
            <div class="checkbox-group">
                <label class="checkbox-item"><input type="checkbox" name="servLLD" value="6.5" onchange="calculer()"> Musculaire (6,50‚Ç¨/m)</label>
                <label class="checkbox-item"><input type="checkbox" name="servLLD" value="8" onchange="calculer()"> √âlectrique (8,00‚Ç¨/m)</label>
                <label class="checkbox-item"><input type="checkbox" name="servLLD" value="10.5" onchange="calculer()"> Cargo (10,50‚Ç¨/m)</label>
            </div>

            <table>
                <thead><tr><th>Loyer/m</th><th>1er Versement</th><th>Co√ªt Total</th></tr></thead>
                <tbody id="resLLD"></tbody>
            </table>
            <div id="annualLLD" class="annual-cost" style="padding-left: 12px;"></div>

            <div class="benefits-list">
                <div class="benefit-item"><span>üõ°Ô∏è</span><strong>Z√©ro Franchise :</strong> Assurance Casse/Vol compl√®te sans frais cach√©s.</div>
                <div class="benefit-item"><span>üîÑ</span><strong>Z√©ro Al√©a :</strong> Pas de revente √† g√©rer, vous changez de v√©lo simplement en fin de contrat.</div>
                <div class="benefit-item"><span>üõ†Ô∏è</span><strong>S√©r√©nit√© :</strong> Entretien et assistance inclus dans votre budget mensuel.</div>
            </div>

            <div class="banner-eco" id="bilanEco"></div>
        </div>
    </div>
</div>

<script>
function calculer() {
    const pVelo = parseFloat(document.getElementById('prixVelo').value) || 0;
    const pAcc = parseFloat(document.getElementById('prixAcc').value) || 0;
    const pTotalMatos = pVelo + pAcc;
    const entretienAn = parseFloat(document.getElementById('typeVelo').value);
    const dureeMois = parseInt(document.getElementById('duree').value);
    const dureeAns = dureeMois / 12;
    const apportComptant = parseFloat(document.getElementById('apportComptant').value) || 0;

    let serviceLLD = 0;
    document.querySelectorAll('input[name="servLLD"]:checked').forEach((cb) => serviceLLD += parseFloat(cb.value));

    // --- CALCUL ACHAT ---
    let assurAchat = pVelo * 0.075 * dureeAns;
    if (dureeAns >= 2) assurAchat *= 0.8;
    const totalAchat = pTotalMatos + assurAchat + (entretienAn * dureeAns);
    
    // Valeur r√©siduelle
    const ratiosResiduelle = { 1: 0.70, 2: 0.55, 3: 0.45 };
    const valeurResiduelle = pVelo * ratiosResiduelle[dureeAns];
    const coutReelAchat = totalAchat - valeurResiduelle;

    document.getElementById('resAchat').innerHTML = `
        D√©pense cumul√©e : <b>${totalAchat.toFixed(2)} ‚Ç¨</b><br>
        Co√ªt annuel moy. : <b>${(totalAchat/dureeAns).toFixed(2)} ‚Ç¨/an</b>
    `;

    document.getElementById('resaleBox').innerHTML = `
        <table style="margin-top:0; border:1px solid #eee;">
            <tr style="background:#f0f4f8;"><td>Revente esp√©r√©e (${ratiosResiduelle[dureeAns]*100}%)</td><td style="text-align:right;"><b>- ${valeurResiduelle.toFixed(2)} ‚Ç¨</b></td></tr>
            <tr><td><b>Co√ªt de possession net</b></td><td style="text-align:right;"><b>${coutReelAchat.toFixed(2)} ‚Ç¨</b></td></tr>
        </table>
    `;

    // --- CALCUL LLD ---
    const refs = { 12: 157, 24: 122, 36: 104 };
    const montantFinanc√© = Math.max(0, pTotalMatos - apportComptant);
    const mensuBase = (montantFinanc√© * refs[dureeMois]) / 2699;
    const mensuFinale = mensuBase + serviceLLD;
    const premierVersement = apportComptant + (mensuFinale * 2);
    const totalLLD = (mensuFinale * dureeMois) + (mensuFinale) + apportComptant;

    document.getElementById('resLLD').innerHTML = `
        <tr><td><b>${mensuFinale.toFixed(2)} ‚Ç¨</b></td><td>${premierVersement.toFixed(2)} ‚Ç¨</td><td><b>${totalLLD.toFixed(2)} ‚Ç¨</b></td></tr>
    `;
    document.getElementById('annualLLD').innerHTML = `Soit <b>${(totalLLD/dureeAns).toFixed(2)} ‚Ç¨ / an</b> (tout inclus)`;

    // --- BILAN ---
    // On compare le co√ªt net (Achat - Revente) vs LLD
    const diff = coutReelAchat - totalLLD;
    const tresorerie = pTotalMatos - premierVersement;
    
    document.getElementById('bilanEco').innerHTML = `
        <span class="highlight-eco">B√©n√©fice Net LLD : ${diff.toFixed(2)} ‚Ç¨</span><br>
        <small>Tr√©sorerie pr√©serv√©e : <b>${tresorerie.toFixed(2)} ‚Ç¨</b></small>
    `;
}
calculer();
</script>
</body>
</html>
